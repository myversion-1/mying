# CSS 更新测试清单

## 🚀 开发服务器

开发服务器应该已经在运行。如果没有，请运行：
```bash
cd mying-web
npm run dev
```

然后访问：**http://localhost:3000**

---

## ✅ 测试清单

### 1. 主题切换测试

#### Light Mode（日间模式）
- [ ] 打开网站首页
- [ ] 点击主题切换按钮（切换到 Light Mode）
- [ ] 检查所有组件颜色是否正确显示
- [ ] 验证文本对比度是否足够（WCAG 2.1 AA 标准）

#### Dark Mode（夜间模式）
- [ ] 点击主题切换按钮（切换到 Dark Mode）
- [ ] 检查所有组件颜色是否正确显示
- [ ] 验证文本对比度是否足够
- [ ] 检查深色背景组件（如 ContactForm, VerificationGate）是否正确显示

---

### 2. 已更新组件测试

#### GlobalMap 组件
- [ ] 访问包含地图的页面（如 Cases 页面）
- [ ] 检查地图背景颜色是否为 `var(--dark-bg-base)`
- [ ] 检查国家标记颜色是否正确（使用 accent-primary）
- [ ] 点击国家按钮，验证触摸目标是否足够大（≥44px）
- [ ] 测试悬停效果

#### VerificationGate 组件
- [ ] 访问 `/visit` 页面
- [ ] 检查表单背景是否使用 `dark-bg-component` 类
- [ ] 检查输入框背景颜色是否为 `var(--dark-bg-base)`
- [ ] 检查按钮颜色是否为 `var(--accent-primary)`
- [ ] 验证输入框和按钮的触摸目标大小（≥44px）
- [ ] 测试表单提交功能

#### ContactForm 组件
- [ ] 访问 `/contact` 页面
- [ ] 检查表单背景是否使用 `dark-bg-component` 类
- [ ] 检查所有输入框背景颜色
- [ ] 检查提交按钮颜色和样式
- [ ] 验证所有输入框和按钮的触摸目标大小（≥44px）
- [ ] 测试表单验证和提交功能

#### PageHero 组件
- [ ] 访问首页
- [ ] 检查 Hero 区域背景渐变
- [ ] 检查主 CTA 按钮颜色（应为 `var(--accent-primary)`）
- [ ] 检查按钮文本颜色（应为 `var(--text-inverse)`）
- [ ] 验证按钮触摸目标大小（≥44px）
- [ ] 测试按钮悬停效果

#### ProductCard 组件
- [ ] 访问 `/products` 页面
- [ ] 检查产品卡片样式
- [ ] 检查"查看详情"按钮颜色和文本颜色
- [ ] 检查"快速询价"按钮样式
- [ ] 验证按钮触摸目标大小（≥44px）
- [ ] 测试按钮点击功能

---

### 3. 触摸优化测试（移动端）

#### 移动端模拟
- [ ] 打开浏览器开发者工具（F12）
- [ ] 切换到移动设备视图（响应式设计模式）
- [ ] 选择移动设备（如 iPhone 12, Pixel 5）

#### 触摸目标测试
- [ ] 检查所有按钮的最小高度是否为 44px
- [ ] 检查所有链接的最小高度是否为 44px
- [ ] 测试按钮点击是否容易（无意外缩放）
- [ ] 验证触摸反馈是否流畅

#### 响应式布局测试
- [ ] 检查移动端背景是否仅显示渐变（无重图片）
- [ ] 检查桌面端背景是否显示完整背景图片
- [ ] 验证布局在不同屏幕尺寸下的表现

---

### 4. CSS 变量验证

#### 浏览器开发者工具检查
- [ ] 打开浏览器开发者工具（F12）
- [ ] 切换到 Elements/Inspector 标签
- [ ] 选择一个组件元素
- [ ] 检查 Computed 样式，验证是否使用 CSS 变量（`var(--*)`）
- [ ] 确认没有硬编码的十六进制颜色（如 `#0c1014`, `#00eaff`）

#### 全局 CSS 变量检查
- [ ] 检查 `:root` 中的 CSS 变量定义
- [ ] 检查 `.dark` 中的 CSS 变量定义
- [ ] 验证新添加的变量：
  - `--dark-bg-base`
  - `--dark-bg-gradient-from`
  - `--dark-bg-gradient-to`
  - `--dark-bg-text`
  - `--dark-bg-text-secondary`
  - `--corner-strategy-*` 系列变量

---

### 5. 对比度检查（可访问性）

#### 使用浏览器扩展工具
推荐工具：
- **WebAIM Contrast Checker** (浏览器扩展)
- **axe DevTools** (浏览器扩展)
- **WAVE** (浏览器扩展)

#### 手动检查
- [ ] 检查 Light Mode 下的文本对比度
  - 主文本与背景：≥ 4.5:1
  - 大文本（18pt+）：≥ 3:1
- [ ] 检查 Dark Mode 下的文本对比度
  - 主文本与背景：≥ 4.5:1
  - 大文本（18pt+）：≥ 3:1
- [ ] 检查按钮和链接的对比度
  - 正常状态：≥ 4.5:1
  - 悬停状态：≥ 4.5:1

---

### 6. 功能测试

#### 导航测试
- [ ] 测试所有导航链接
- [ ] 检查悬停效果
- [ ] 验证移动端菜单

#### 表单测试
- [ ] 测试 ContactForm 表单提交
- [ ] 测试 VerificationGate 验证码输入
- [ ] 检查表单验证错误提示

#### 交互测试
- [ ] 测试所有 CTA 按钮点击
- [ ] 测试产品卡片交互
- [ ] 测试地图交互（如果适用）

---

### 7. 性能测试

#### 页面加载
- [ ] 检查页面首次加载时间
- [ ] 检查主题切换响应速度
- [ ] 验证 CSS 变量是否影响性能（应该没有影响）

#### 浏览器兼容性
- [ ] 测试 Chrome/Edge
- [ ] 测试 Firefox
- [ ] 测试 Safari（如果可用）
- [ ] 测试移动浏览器

---

## 🐛 已知问题

### 待更新的组件
以下组件仍包含硬编码颜色，将在后续更新中修复：
- CaseCard.tsx
- BlogPostCard.tsx
- CADDownloadForm.tsx
- ConsultationBooking.tsx
- QuoteForm.tsx
- ROICalculator.tsx
- ErrorBoundary.tsx
- 案例页面组件
- 博客页面组件

这些组件目前仍可正常工作，但不符合新的 CSS 实现规则。

---

## 📝 测试结果记录

### 测试日期：___________

### 测试人员：___________

### 测试结果：

#### 主题切换
- [ ] ✅ 通过
- [ ] ❌ 失败（备注：_________________）

#### 已更新组件
- [ ] ✅ 通过
- [ ] ❌ 失败（备注：_________________）

#### 触摸优化
- [ ] ✅ 通过
- [ ] ❌ 失败（备注：_________________）

#### CSS 变量
- [ ] ✅ 通过
- [ ] ❌ 失败（备注：_________________）

#### 对比度检查
- [ ] ✅ 通过
- [ ] ❌ 失败（备注：_________________）

#### 功能测试
- [ ] ✅ 通过
- [ ] ❌ 失败（备注：_________________）

### 发现的问题：

1. _________________________________________________
2. _________________________________________________
3. _________________________________________________

### 建议：

1. _________________________________________________
2. _________________________________________________
3. _________________________________________________

---

## 🔍 快速测试命令

### 检查硬编码颜色
在项目根目录运行：
```bash
# 查找硬编码的十六进制颜色
grep -r "#[0-9a-fA-F]\{6\}" mying-web/src --include="*.tsx" | grep -v "var(--"
```

### 检查触摸目标
在浏览器开发者工具中：
1. 选择元素
2. 检查 Computed 样式中的 `min-height` 和 `min-width`
3. 确认值 ≥ 44px

### 检查 CSS 变量使用
在浏览器开发者工具中：
1. 选择元素
2. 查看 Styles 面板
3. 确认颜色值使用 `var(--*)` 格式

---

**测试指南版本**: 1.0  
**最后更新**: 2025-01-27  
**状态**: 待测试


